
# Django Tree Menu App

Это Django-приложение реализует древовидное меню с поддержкой следующих возможностей:

## Основные функции:
1. **Древовидное меню**: Меню поддерживает иерархию с неограниченным уровнем вложенности.
2. **Отображение активного пункта**: Активный пункт меню определяется на основе текущего URL-адреса.
3. **Разворачивание уровней**: Отображаются все родительские элементы активного пункта, а также первый уровень вложенности под ним.
4. **Поддержка нескольких меню**: На одной странице можно разместить несколько меню, каждое из которых задаётся по имени.
5. **Редактирование через админку**: Админка Django предоставляет удобный интерфейс для управления меню.
6. **Переходы по URL**: Элементы меню поддерживают как явные URL, так и именованные маршруты Django.
7. **Оптимизация запросов**: Для отрисовки каждого меню используется ровно один запрос к базе данных.

## Установка и запуск

1. Склонируйте репозиторий:
   ```bash
   git clone https://github.com/Leifr22/tree.git
   cd tree
   ```

2. Убедитесь, что PostgreSQL установлен и настроен. Создайте новую базу данных для проекта.

3. Обновите настройки базы данных в файле `settings.py`, указав параметры подключения к PostgreSQL:
   ```python
   DATABASES = {
       'default': {
           'ENGINE': 'django.db.backends.postgresql',
           'NAME': 'your_database_name',
           'USER': 'your_database_user',
           'PASSWORD': 'your_database_password',
           'HOST': 'localhost',  # или адрес вашего сервера
           'PORT': '5432',       # стандартный порт PostgreSQL
       }
   }
   ```

4. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

5. Выполните миграции базы данных:
   ```bash
   python manage.py migrate
   ```

6. Создайте суперпользователя для доступа к админке:
   ```bash
   python manage.py createsuperuser
   ```

7. Запустите локальный сервер разработки:
   ```bash
   python manage.py runserver
   ```

8. Откройте приложение в браузере:
   ```
   http://127.0.0.1:8000
   ```

## Использование

### Добавление меню через админку:
1. Перейдите в админку Django: `http://127.0.0.1:8000/admin`.
2. Создайте новое меню и добавьте элементы с иерархией.

### Отображение меню в шаблоне:
Используйте template tag для отображения меню на странице:
```django
{% load menu_tags %}
{% draw_menu 'main_menu' %}
```

### Пример структуры:
- Основное меню (main_menu)
  - Главная (URL: `/`)
  - О нас (URL: `/about`)
    - Команда (URL: `/about/team`)
    - История (URL: `/about/history`)
  - Контакты (URL: `/contacts`)

